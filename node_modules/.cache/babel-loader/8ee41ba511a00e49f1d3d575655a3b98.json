{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Hamed\\\\Desktop\\\\Gogo-React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Hamed\\\\Desktop\\\\Gogo-React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Hamed\\\\Desktop\\\\Gogo-React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\Hamed\\\\Desktop\\\\Gogo-React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Hamed\\\\Desktop\\\\Gogo-React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Hamed\\\\Desktop\\\\Gogo-React\\\\src\\\\views\\\\app\\\\applications\\\\survey-detail.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Nav, NavItem, Button, DropdownToggle, DropdownItem, DropdownMenu, TabContent, TabPane, ButtonDropdown } from \"reactstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport { mapOrder } from \"../../../helpers/Utils\";\nimport IntlMessages from \"../../../helpers/IntlMessages\";\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\nimport QuestionBuilder from \"../../../containers/applications/QuestionBuilder\";\nimport { getSurveyDetail, deleteSurveyQuestion, saveSurvey } from \"../../../redux/actions\";\nimport SurveyQuotas from \"../../../containers/applications/SurveyQuotas\";\nimport SurveyCharts from \"../../../containers/applications/SurveyCharts\";\nimport SurveyDetailApplicationMenu from \"../../../containers/applications/SurveyDetailApplicationMenu\";\nimport SurveyDetailCard from \"../../../components/applications/SurveyDetailCard\";\nvar surveyData = [];\n\nvar SurveyDetailApp = /*#__PURE__*/function (_Component) {\n  _inherits(SurveyDetailApp, _Component);\n\n  var _super = _createSuper(SurveyDetailApp);\n\n  function SurveyDetailApp(props) {\n    var _this;\n\n    _classCallCheck(this, SurveyDetailApp);\n\n    _this = _super.call(this, props);\n    _this.toggleTab = _this.toggleTab.bind(_assertThisInitialized(_this));\n    _this.toggleSplit = _this.toggleSplit.bind(_assertThisInitialized(_this));\n    _this.state = {\n      activeFirstTab: \"1\",\n      dropdownSplitOpen: false,\n      surveyData: surveyData\n    };\n    return _this;\n  }\n\n  _createClass(SurveyDetailApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getSurveyDetail();\n    }\n  }, {\n    key: \"toggleTab\",\n    value: function toggleTab(tab) {\n      if (this.state.activeTab !== tab) {\n        this.setState({\n          activeFirstTab: tab\n        });\n      }\n    }\n  }, {\n    key: \"toggleSplit\",\n    value: function toggleSplit() {\n      this.setState(function (prevState) {\n        return {\n          dropdownSplitOpen: !prevState.dropdownSplitOpen\n        };\n      });\n    }\n  }, {\n    key: \"addQuestion\",\n    value: function addQuestion() {\n      var survey = this.props.surveyDetailApp.survey;\n      var nextId = 0;\n\n      if (survey.questions.length > 0) {\n        var ordered = survey.questions.slice().sort(function (a, b) {\n          return a.id < b.id;\n        });\n        nextId = ordered[0].id + 1;\n      }\n\n      var newSurvey = Object.assign({}, survey);\n      newSurvey.questions.push({\n        id: nextId\n      });\n      this.props.saveSurvey(newSurvey);\n    }\n  }, {\n    key: \"handleSortChange\",\n    value: function handleSortChange(order, sortable, evt) {\n      var survey = this.props.surveyDetailApp.survey;\n      var ordered_array = mapOrder(survey.questions, order, \"id\");\n      this.props.saveSurvey(ordered_array);\n    }\n  }, {\n    key: \"deleteQuestion\",\n    value: function deleteQuestion(id) {\n      this.props.deleteSurveyQuestion(id, this.props.surveyDetailApp.survey);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props$surveyDet = this.props.surveyDetailApp,\n          survey = _this$props$surveyDet.survey,\n          loading = _this$props$surveyDet.loading;\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        className: \"app-row survey-app\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"simple-icon-refresh heading-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"align-middle d-inline-block pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }, \"Developer Survey\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-zero top-right-button-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ButtonDropdown, {\n        className: \"top-right-button top-right-button-single\",\n        isOpen: this.state.dropdownSplitOpen,\n        toggle: this.toggleSplit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        outline: true,\n        className: \"flex-grow-1\",\n        size: \"lg\",\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }, \"SAVE\"), /*#__PURE__*/React.createElement(DropdownToggle, {\n        size: \"lg\",\n        className: \"dropdown-toggle-split btn-lg\",\n        caret: true,\n        outline: true,\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(DropdownMenu, {\n        right: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(DropdownItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"survey.delete\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(DropdownItem, {\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"survey.edit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }\n      }))))), /*#__PURE__*/React.createElement(Breadcrumb, {\n        match: this.props.match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }\n      }), loading ? /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        tabs: true,\n        className: \"separator-tabs ml-0 mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(NavItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(NavLink, {\n        className: classnames({\n          active: this.state.activeFirstTab === \"1\",\n          \"nav-link\": true\n        }),\n        onClick: function onClick() {\n          _this2.toggleTab(\"1\");\n        },\n        to: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }\n      }, \"DETAILS\")), /*#__PURE__*/React.createElement(NavItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(NavLink, {\n        className: classnames({\n          active: this.state.activeFirstTab === \"2\",\n          \"nav-link\": true\n        }),\n        onClick: function onClick() {\n          _this2.toggleTab(\"2\");\n        },\n        to: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }\n      }, \"RESULTS\"))), /*#__PURE__*/React.createElement(TabContent, {\n        activeTab: this.state.activeFirstTab,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(TabPane, {\n        tabId: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(SurveyDetailCard, {\n        survey: survey,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Colxx, {\n        xxs: \"12\",\n        lg: \"8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"list-unstyled mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }\n      }, survey.questions.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          \"data-id\": item.id,\n          key: item.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(QuestionBuilder, Object.assign({\n          order: index\n        }, item, {\n          expanded: !item.title && true,\n          deleteClick: function deleteClick(id) {\n            _this2.deleteQuestion(id);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 33\n          }\n        })));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        outline: true,\n        color: \"primary\",\n        className: \"mt-3\",\n        onClick: function onClick() {\n          return _this2.addQuestion();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"simple-icon-plus btn-group-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 29\n        }\n      }), \" \", \"Add Question\"))))), /*#__PURE__*/React.createElement(TabPane, {\n        tabId: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(SurveyQuotas, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(SurveyCharts, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 23\n        }\n      }))))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(SurveyDetailApplicationMenu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return SurveyDetailApp;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var surveyDetailApp = _ref.surveyDetailApp;\n  return {\n    surveyDetailApp: surveyDetailApp\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getSurveyDetail: getSurveyDetail,\n  deleteSurveyQuestion: deleteSurveyQuestion,\n  saveSurvey: saveSurvey\n})(SurveyDetailApp);","map":{"version":3,"sources":["C:/Users/Hamed/Desktop/Gogo-React/src/views/app/applications/survey-detail.js"],"names":["React","Component","Fragment","connect","Row","Nav","NavItem","Button","DropdownToggle","DropdownItem","DropdownMenu","TabContent","TabPane","ButtonDropdown","NavLink","classnames","mapOrder","IntlMessages","Colxx","Breadcrumb","QuestionBuilder","getSurveyDetail","deleteSurveyQuestion","saveSurvey","SurveyQuotas","SurveyCharts","SurveyDetailApplicationMenu","SurveyDetailCard","surveyData","SurveyDetailApp","props","toggleTab","bind","toggleSplit","state","activeFirstTab","dropdownSplitOpen","tab","activeTab","setState","prevState","survey","surveyDetailApp","nextId","questions","length","ordered","slice","sort","a","b","id","newSurvey","Object","assign","push","order","sortable","evt","ordered_array","loading","match","active","map","item","index","title","deleteQuestion","addQuestion","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  Row,\r\n  Nav,\r\n  NavItem,\r\n  Button,\r\n  DropdownToggle,\r\n  DropdownItem,\r\n  DropdownMenu,\r\n  TabContent,\r\n  TabPane,\r\n  ButtonDropdown\r\n} from \"reactstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classnames from \"classnames\";\r\nimport { mapOrder } from \"../../../helpers/Utils\";\r\n\r\nimport IntlMessages from \"../../../helpers/IntlMessages\";\r\nimport { Colxx } from \"../../../components/common/CustomBootstrap\";\r\nimport Breadcrumb from \"../../../containers/navs/Breadcrumb\";\r\nimport QuestionBuilder from \"../../../containers/applications/QuestionBuilder\";\r\n\r\nimport {\r\n  getSurveyDetail,\r\n  deleteSurveyQuestion,\r\n  saveSurvey\r\n} from \"../../../redux/actions\";\r\nimport SurveyQuotas from \"../../../containers/applications/SurveyQuotas\";\r\nimport SurveyCharts from \"../../../containers/applications/SurveyCharts\";\r\nimport SurveyDetailApplicationMenu from \"../../../containers/applications/SurveyDetailApplicationMenu\";\r\nimport SurveyDetailCard from \"../../../components/applications/SurveyDetailCard\";\r\n\r\nconst surveyData = [];\r\n\r\nclass SurveyDetailApp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggleTab = this.toggleTab.bind(this);\r\n    this.toggleSplit = this.toggleSplit.bind(this);\r\n    this.state = {\r\n      activeFirstTab: \"1\",\r\n      dropdownSplitOpen: false,\r\n      surveyData: surveyData\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.getSurveyDetail();\r\n  }\r\n\r\n  toggleTab(tab) {\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeFirstTab: tab\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleSplit() {\r\n    this.setState(prevState => ({\r\n      dropdownSplitOpen: !prevState.dropdownSplitOpen\r\n    }));\r\n  }\r\n\r\n  addQuestion() {\r\n    const { survey } = this.props.surveyDetailApp;\r\n\r\n    var nextId = 0;\r\n    if (survey.questions.length > 0) {\r\n      var ordered = survey.questions.slice().sort((a, b) => {\r\n        return a.id < b.id;\r\n      });\r\n      nextId = ordered[0].id + 1;\r\n    }\r\n    const newSurvey = Object.assign({}, survey);\r\n    newSurvey.questions.push({ id: nextId });\r\n    this.props.saveSurvey(newSurvey);\r\n  }\r\n\r\n  handleSortChange(order, sortable, evt) {\r\n    const { survey } = this.props.surveyDetailApp;\r\n    var ordered_array = mapOrder(survey.questions, order, \"id\");\r\n    this.props.saveSurvey(ordered_array);\r\n  }\r\n\r\n  deleteQuestion(id) {\r\n    this.props.deleteSurveyQuestion(id, this.props.surveyDetailApp.survey);\r\n  }\r\n\r\n  render() {\r\n    const { survey, loading } = this.props.surveyDetailApp;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Row className=\"app-row survey-app\">\r\n          <Colxx xxs=\"12\">\r\n            <h1>\r\n              <i className=\"simple-icon-refresh heading-icon\" />{\" \"}\r\n              <span className=\"align-middle d-inline-block pt-1\">\r\n                Developer Survey\r\n              </span>\r\n            </h1>\r\n            <div className=\"text-zero top-right-button-container\">\r\n              <ButtonDropdown\r\n                className=\"top-right-button top-right-button-single\"\r\n                isOpen={this.state.dropdownSplitOpen}\r\n                toggle={this.toggleSplit}>\r\n                <Button\r\n                  outline\r\n                  className=\"flex-grow-1\"\r\n                  size=\"lg\"\r\n                  color=\"primary\">\r\n                  SAVE\r\n                </Button>\r\n                <DropdownToggle\r\n                  size=\"lg\"\r\n                  className=\"dropdown-toggle-split btn-lg\"\r\n                  caret\r\n                  outline\r\n                  color=\"primary\"/>\r\n                <DropdownMenu right>\r\n                  <DropdownItem>\r\n                    <IntlMessages id=\"survey.delete\" />\r\n                  </DropdownItem>\r\n                  <DropdownItem disabled>\r\n                    <IntlMessages id=\"survey.edit\" />\r\n                  </DropdownItem>\r\n                </DropdownMenu>\r\n              </ButtonDropdown>\r\n            </div>\r\n\r\n            <Breadcrumb match={this.props.match} />\r\n            {loading ? (\r\n              <Fragment>\r\n                <Nav tabs className=\"separator-tabs ml-0 mb-5\">\r\n                  <NavItem>\r\n                    <NavLink\r\n                      className={classnames({\r\n                        active: this.state.activeFirstTab === \"1\",\r\n                        \"nav-link\": true\r\n                      })}\r\n                      onClick={() => {\r\n                        this.toggleTab(\"1\");\r\n                      }}\r\n                      to=\"#\">\r\n                      DETAILS\r\n                    </NavLink>\r\n                  </NavItem>\r\n                  <NavItem>\r\n                    <NavLink\r\n                      className={classnames({\r\n                        active: this.state.activeFirstTab === \"2\",\r\n                        \"nav-link\": true\r\n                      })}\r\n                      onClick={() => {\r\n                        this.toggleTab(\"2\");\r\n                      }}\r\n                      to=\"#\">\r\n                      RESULTS\r\n                    </NavLink>\r\n                  </NavItem>\r\n                </Nav>\r\n\r\n                <TabContent activeTab={this.state.activeFirstTab}>\r\n                  <TabPane tabId=\"1\">\r\n                    <Row>\r\n                      <SurveyDetailCard survey={survey} />\r\n\r\n                      <Colxx xxs=\"12\" lg=\"8\">\r\n                        <ul className=\"list-unstyled mb-4\">\r\n                          {survey.questions.map((item, index) => {\r\n                            return (\r\n                              <li data-id={item.id} key={item.id}>\r\n                                <QuestionBuilder\r\n                                  order={index}\r\n                                  {...item}\r\n                                  expanded={!item.title && true}\r\n                                  deleteClick={id => {\r\n                                    this.deleteQuestion(id);\r\n                                  }}/>\r\n                              </li>\r\n                            );\r\n                          })}\r\n                        </ul>\r\n\r\n                        <div className=\"text-center\">\r\n                          <Button\r\n                            outline\r\n                            color=\"primary\"\r\n                            className=\"mt-3\"\r\n                            onClick={() => this.addQuestion()}>\r\n                            <i className=\"simple-icon-plus btn-group-icon\" />{\" \"}\r\n                            Add Question\r\n                          </Button>\r\n                        </div>\r\n                      </Colxx>\r\n                    </Row>\r\n                  </TabPane>\r\n                  <TabPane tabId=\"2\">\r\n                    <Row>\r\n                      <SurveyQuotas />\r\n                      <SurveyCharts />\r\n                    </Row>\r\n                  </TabPane>\r\n                </TabContent>\r\n              </Fragment>\r\n            ) : (\r\n              <div className=\"loading\" />\r\n            )}\r\n          </Colxx>\r\n        </Row>\r\n        <SurveyDetailApplicationMenu />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ surveyDetailApp }) => {\r\n  return {\r\n    surveyDetailApp\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    getSurveyDetail,\r\n    deleteSurveyQuestion,\r\n    saveSurvey\r\n  }\r\n)(SurveyDetailApp);\r\n"]},"metadata":{},"sourceType":"module"}